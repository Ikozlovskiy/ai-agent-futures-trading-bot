# Multi-Confluence Scalper Configuration
# 24/7 scalping strategy with 4-layer confluence model

# Exchange keys (copy from main .env or set here)
BINANCE_API_KEY=MbHuigPGXZXA7HkW0uywfBjl9OrFqHDDyEMVKtZ3rKiptrmZRhCZZA31Pavh0OOE
BINANCE_API_SECRET=s4iBFHwMpqleOQkWYm1QvCiMXuTKV7TPkqzeXZRn3CGcgjG75rbNrBH5O2s3tYtU

# Telegram
TELEGRAM_BOT_TOKEN=8151392465:AAHKPRjxOBvMy-CxcqM6FJ743rnXZSz4qoM
TELEGRAM_CHAT_ID=377998110

# Symbols to trade
SCALP_SYMBOLS=SOL/USDT

# Check interval (seconds) - aggressive for scalping
SCALP_CHECK_INTERVAL=10

# ========== LAYER 1: MARKET STRUCTURE ==========
# Timeframes for analysis
SCALP_HTF_TIMEFRAME=15m
SCALP_MTF_TIMEFRAME=5m
SCALP_LTF_TIMEFRAME=1m

# Trend filter EMAs (15m chart)
SCALP_TREND_EMA_FAST=50
SCALP_TREND_EMA_SLOW=200

# Bias candle count (5m chart - check last N candles for color consistency)
SCALP_BIAS_CANDLE_COUNT=5

# ========== LAYER 2: PATTERN DETECTION ==========
# Enable/disable specific patterns
SCALP_ENABLE_FVG=true
SCALP_ENABLE_SD_ZONES=true
SCALP_ENABLE_TRENDLINE=true
SCALP_ENABLE_DOUBLE_TOUCH=true

# FVG Quality Filters (gap size relative to ATR)
# Minimum: 0.3 = gap must be at least 30% of ATR (filters noise)
# Maximum: 2.0 = gap cannot exceed 2x ATR (filters extreme gaps that often fill)
SCALP_FVG_MIN_GAP_ATR=0.3
SCALP_FVG_MAX_GAP_ATR=2.0

# ========== LAYER 3: CONFIRMATION FILTERS ==========
# Volume expansion requirement (rejection candle vs recent average)
SCALP_VOL_MULT=1.3
SCALP_VOL_LOOKBACK=20

# ATR ratio (LTF ATR vs HTF ATR - ensures market is moving)
# 0.5 = LTF ATR must be at least 50% of HTF ATR
SCALP_ATR_RATIO_MIN=0.5

# Spread check (max bid-ask spread as % of price)
SCALP_SPREAD_MAX_PCT=0.05

# Recent loss cooldown (seconds to wait after a losing trade)
SCALP_MIN_LOSS_COOLDOWN_SEC=600

# ========== LAYER 4: MULTI-TIMEFRAME ALIGNMENT ==========
# RSI overbought/oversold thresholds (15m chart)
# Don't long if RSI > 75, don't short if RSI < 25
SCALP_RSI_OVERBOUGHT=75
SCALP_RSI_OVERSOLD=25

# ========== TIME-OF-DAY WEIGHTS ==========
# High priority hours (1.0x confidence) - London + NY sessions
SCALP_HIGH_PRIORITY_HOURS=8-17

# Medium priority hours (0.8x confidence) - Asian + NY afternoon
SCALP_MED_PRIORITY_HOURS=0-8,17-20

# Low priority hours (0.6x confidence) - After hours
SCALP_LOW_PRIORITY_HOURS=20-24

# ========== RISK MANAGEMENT ==========
# Risk per trade (% of price movement for SL)
# 0.5% price SL with 20x leverage = -10% ROE per trade
SCALP_RISK_PCT=0.5

# Min/Max SL distance (% of entry price)
SCALP_MIN_SL_PCT=0.3
SCALP_MAX_SL_PCT=0.8

# Position sizing (notional USDT per trade)
RISK_NOTIONAL_USDT=200

# ========== EXIT MANAGEMENT ==========
# Take Profit RR ratios
SCALP_TP1_RR=1.5  # First TP at 1.5:1 (close 50%)
SCALP_TP2_RR=2.5  # Second TP at 2.5:1 (close 30%)
SCALP_TP3_RR=3.5  # Third TP at 3.5:1 (close 20% or trail)

# TP quantity percentages (must sum to 100)
SCALP_TP_QTY_PCT=50,30,20

# Trailing stop configuration
SCALP_ENABLE_TRAILING=true
SCALP_TRAIL_AFTER_PROFIT_PCT=0.5  # Start trailing after 0.5% profit
SCALP_TRAIL_ATR_MULT=0.5  # Trail by 0.5x ATR
SCALP_BREAKEVEN_AT_PCT=0.5  # Move SL to breakeven at 0.5% profit

# Momentum exit (consecutive candles against you)
SCALP_MOMENTUM_EXIT_CANDLES=2

# Time-based exit (if no progress after X minutes)
SCALP_TIME_EXIT_MINUTES=15

# ========== TRADING CONTROLS ==========
# Max trades per symbol per day
SCALP_MAX_TRADES_PER_DAY=10

# Daily loss cap (stop trading after this loss)
SCALP_DAILY_LOSS_CAP_USDT=100

# Max concurrent positions (1 = only one position at a time)
SCALP_MAX_CONCURRENT_POSITIONS=1

# ========== BRACKET MODE ==========
# Use LADDER mode for scalping (partial exits)
BRACKET_MODE=LADDER

# Ladder configuration
LADDER_TP_PCT=15,25,35  # ROE % targets (with 20x: 0.75%, 1.25%, 1.75% price moves)
LADDER_TP_QTY_PCT=50,30,20
LADDER_SL_PCT=-10  # Initial SL at -10% ROE (0.5% price move with 20x)

# Leverage and margin
LEVERAGE=20
MARGIN_MODE=isolated

# Fees
FEE_TAKER_PCT=0.0005
